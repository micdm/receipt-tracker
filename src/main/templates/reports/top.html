{% extends "base.html" %}

{% block title %}Топ продуктов за последние 30 дней{% endblock %}

{% block body %}
<h2>Топ продуктов за последние 30 дней</h2>
<h4 class="block">Самое калорийное</h4>
<table class="table table-striped">
    {% for product in top_by_calories %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:0 }} ккал</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое белковое</h4>
<table class="table table-striped">
    {% for product in top_by_protein %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:3 }} кг</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое жирное</h4>
<table class="table table-striped">
    {% for product in top_by_fat %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:3 }} кг</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое углеводное</h4>
<table class="table table-striped">
    {% for product in top_by_carbohydrate %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:3 }} кг</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое дорогое</h4>
<table class="table table-striped">
    {% for product in top_by_total %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:0 }} ₽</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое объемное</h4>
<table class="table table-striped">
    {% for product in top_by_weight %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:3 }} кг</td>
        </tr>
    {% endfor %}
</table>
<h4 class="block">Самое энергоэффективное</h4>
<table class="table table-striped">
    {% for product in top_by_effectivity %}
        <tr>
            <td><a href="{% url 'product' product.id %}">{{ product.name }}</a> {% if not product.is_checked %}<span class="text-warning">?</span>{% endif %}</td>
            <td class="col-md-2 text-right">{{ product.value|floatformat:0 }} ккал / ₽</td>
        </tr>
    {% endfor %}
</table>
{% endblock %}
